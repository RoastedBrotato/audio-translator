# HuggingFace Token for speaker diarization
# Get your token from: https://huggingface.co/settings/tokens
# Required for pyannote speaker diarization model
HF_TOKEN=your_huggingface_token_here

# CORS allowed origins (comma-separated)
# Leave empty for development (allows all origins with warning)
# For production, set to your frontend URLs
# Example: ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
ALLOWED_ORIGINS=

# Diarization tuning (optional)
# SPEAKER_SIM_THRESHOLD: embedding match threshold for persistent speaker IDs
# MIN_EMBED_DURATION: minimum seconds needed for a speaker embedding
# SPEAKER_OVERLAP_RATIO_THRESHOLD: overlap ratio to flag segments as overlapping
# SPEAKER_CONFIDENCE_THRESHOLD: minimum overlap ratio to consider a speaker label confident
SPEAKER_SIM_THRESHOLD=0.82
MIN_EMBED_DURATION=0.8
SPEAKER_OVERLAP_RATIO_THRESHOLD=0.25
SPEAKER_CONFIDENCE_THRESHOLD=0.55
SPEAKER_PROFILE_TTL_SECONDS=3600
SPEAKER_PROFILE_CLEANUP_INTERVAL_SECONDS=300
# Optional: persist diarization profiles via Go server
# Example: SPEAKER_PROFILE_STORE_URL=http://localhost:8080
SPEAKER_PROFILE_STORE_URL=
SPEAKER_PROFILE_PERSIST_INTERVAL_SECONDS=15
# Optional: speaker profile DB cleanup (Go server)
SPEAKER_PROFILE_DB_TTL_SECONDS=86400
SPEAKER_PROFILE_DB_CLEANUP_INTERVAL_SECONDS=300

# Keycloak JWT verification
# Example: KEYCLOAK_ISSUER=http://localhost:8180/realms/master
KEYCLOAK_ISSUER=
# Optional override for JWKS URL (defaults to issuer/protocol/openid-connect/certs)
KEYCLOAK_JWKS_URL=
# Optional audience check (set to client ID if needed)
KEYCLOAK_AUDIENCE=

# Diagnostics (enable service control from /diagnostics.html)
DIAGNOSTICS_ALLOW_SERVICE_CONTROL=false

# Database configuration
DB_HOST=localhost
DB_PORT=5433
DB_USER=audio_translator
DB_PASSWORD=audio_translator_pass
DB_NAME=audio_translator

# MinIO configuration (REQUIRED)
# SECURITY: Change these credentials for production!
# MINIO_ROOT_USER and MINIO_ROOT_PASSWORD are required and must be set
MINIO_ENABLED=true
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=your_minio_user_here
MINIO_ROOT_PASSWORD=your_secure_minio_password_here
MINIO_BUCKET=audio-translator-files
MINIO_USE_SSL=false

# Backend service URLs
ASR_BASE_URL=http://127.0.0.1:8003
TRANSLATION_BASE_URL=http://127.0.0.1:8004
TTS_BASE_URL=http://127.0.0.1:8005
EMBEDDING_BASE_URL=http://127.0.0.1:8006
LLM_BASE_URL=http://127.0.0.1:8007
OLLAMA_MODEL=llama3.2:3b
